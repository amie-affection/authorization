(this.webpackJsonpweather=this.webpackJsonpweather||[]).push([[0],{38:function(e,t,n){e.exports=n(67)},67:function(e,t,n){"use strict";n.r(t);var o=n(0),a=n.n(o),r=n(13),l=n.n(r),u=n(8),c=n(34),i=n(3),h=n(35),p=n(36),g=n(15),m=n(37),s=n.n(m),d=n(19),b=n.n(d);b.a.defaults.baseURL="https://uxcandy.com/~shapoval/test-task-backend/v2";var f=Object(i.combineReducers)({token:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"auth/LOGIN_SUCCESS":return t.payload.token;case"auth/LOGOUT_SUCCESS":return null;default:return e}},isShowText:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"auth/IS_SHOW_TEXT":return!e;case"auth/SHOW_TEXT":case"auth/HIDE_TEXT":return t.payload;default:return e}}}),x={key:"authRoot",storage:s.a,whitelist:["token"]},E=Object(i.combineReducers)({authRoot:Object(g.a)(x,f)}),y=[h.a,function(e){return function(e){return function(t){console.log(t),e(t)}}}],k=Object(i.createStore)(E,Object(p.composeWithDevTools)(i.applyMiddleware.apply(void 0,y))),w=Object(g.b)(k),S=n(10),O=n(2),v=Object(u.b)((function(e){return console.log(e),{isShowText:e.authRoot.isShowText}}),(function(e){return{makeToggle:function(){return e({type:"auth/IS_SHOW_TEXT"})},showTextNow:function(){return e({type:"auth/SHOW_TEXT",payload:!0})},hideTextNow:function(){return e({type:"auth/HIDE_TEXT",payload:!1})}}}))((function(e){var t=e.isShowText,n=e.makeToggle,o=e.showTextNow,r=e.hideTextNow;return a.a.createElement(a.a.Fragment,null,a.a.createElement("h2",null,"HomePage"),a.a.createElement("button",{type:"button",onClick:function(){return n()},style:{marginRight:"10px",border:"none",backgroundColor:"orange",width:"80px",height:"30px"}},"Flag"),a.a.createElement("button",{type:"button",onClick:function(){return o()},style:{marginRight:"10px",border:"none",backgroundColor:"orange",width:"80px",height:"30px"}},"Show Text"),a.a.createElement("button",{type:"button",onClick:function(){return r()},style:{marginRight:"10px",border:"none",backgroundColor:"orange",width:"80px",height:"30px"}},"Hide Text"),t&&a.a.createElement("p",{style:{fontSize:"30px"}},"Welcome!"))})),T=function(){return a.a.createElement("h2",null,"UserProfile")},j=n(22),C=n(16),L=function(e){function t(t){var n=t.token,o=Object(C.a)(t,["token"]);return n?a.a.createElement(O.a,{to:"/"}):a.a.createElement(e,o)}return Object(u.b)((function(e){return{token:e.authRoot.token}}))(t)}((function(){var e=Object(u.c)(),t=Object(o.useState)(""),n=Object(j.a)(t,2),r=n[0],l=n[1],c=Object(o.useState)(""),i=Object(j.a)(c,2),h=i[0],p=i[1];return a.a.createElement("form",{onSubmit:function(t){t.preventDefault(),e(function(e,t){return function(n,o){console.log(e,t);var a=new URLSearchParams;return a.append("username",e),a.append("password",t),b.a.post("/login/?developer=Name",a).then((function(e){console.log(e.data),n({type:"auth/LOGIN_SUCCESS",payload:{token:e.data.message.token}})})).catch((function(e){console.log(e)}))}}(r,h))}},a.a.createElement("input",{type:"text",value:r,onChange:function(e){var t=e.target;return l(t.value)},placeholder:"Login",style:{marginLeft:"20px",marginRight:"10px",height:"25px"}}),a.a.createElement("input",{type:"password",value:h,onChange:function(e){var t=e.target;return p(t.value)},placeholder:"Password",style:{marginRight:"10px",height:"25px"}}),a.a.createElement("button",{type:"submit",style:{height:"30px",width:"70px",border:"none",background:"black",color:"white"}},"Submit"))})),R=function(e){var t=e.component,n=Object(C.a)(e,["component"]),o=Object(u.d)((function(e){return e.authRoot.token}));return a.a.createElement(O.b,Object.assign({},n,{render:function(e){return o?a.a.createElement(t,e):a.a.createElement(O.a,{to:"/auth"})}}))},H=Object(u.b)((function(e){return{token:e.authRoot.token}}),(function(e){return{makeLogout:function(){return e({type:"auth/LOGOUT_SUCCESS"})}}}))((function(e){var t=e.token,n=e.makeLogout;return a.a.createElement("header",null,a.a.createElement("nav",null,a.a.createElement("ul",null,a.a.createElement("li",{style:{marginBottom:"5px",background:"blue",width:"105px",height:"30px",lineHeight:"30px",color:"red"}},a.a.createElement(S.b,{to:"/",style:{color:"white",paddingLeft:"5px",fontSize:"20px"}},"HomePage")),t&&a.a.createElement("li",{style:{marginBottom:"5px",background:"blue",width:"105px",height:"30px",lineHeight:"30px",color:"red"}},a.a.createElement(S.b,{to:"/userProfile",style:{color:"white",paddingLeft:"5px",fontSize:"20px"}},"UserProfile")),!t&&a.a.createElement("li",{style:{marginBottom:"5px",background:"blue",width:"105px",height:"30px",lineHeight:"30px",color:"red"}},a.a.createElement(S.b,{to:"/auth",style:{color:"white",paddingLeft:"5px",fontSize:"20px"}},"AuthPage")))),t&&a.a.createElement("button",{type:"button",onClick:function(){return n()},style:{marginLeft:"38px",border:"none",width:"108px",height:"30px",backgroundColor:"black",color:"white",fontWeight:"bold"}},"Logout"))})),_=function(){return a.a.createElement(S.a,null,a.a.createElement(H,null),a.a.createElement(O.d,null,a.a.createElement(O.b,{exact:!0,path:"/",component:v}),a.a.createElement(R,{path:"/userProfile",component:T}),a.a.createElement(O.b,{path:"/auth",component:L})))};l.a.render(a.a.createElement(u.a,{store:k},a.a.createElement(c.a,{loading:null,persistor:w},a.a.createElement(_,null))),document.getElementById("root"))}},[[38,1,2]]]);
//# sourceMappingURL=main.c824a788.chunk.js.map